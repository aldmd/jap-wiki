---
title: 使用指南
date: 2021-09-15 18:50:53
permalink: /v1.0.4/guide/
sidebar: true
article: false
comment: true
---

## 须知

::: warning 须知
- 最新代码，在 `dev` 分支（不保证稳定）
- 稳定版代码，在 `master` 分支
:::

## 关于分支和版本的说明

::: tip 分支说明
- 开发分支（`dev`）：最新代码，不保证稳定，实时发布 `SNAPSHOT` ，同时提交 `PR` 也是在这个分支。
- 主分支（`master`）：保护分支，稳定版代码，用于发布稳定版版本，**不接受任何 `PR`**。
:::

::: tip 版本号说明
- 稳定版（`release`）：格式为 `x.x.x`，为官方推荐使用的版本，可以用于生产环境。
- 快照版（`snapshots`）：格式为 `x.x.x-SNAPSHOT`。快照版会实时更新（`dev` 分支 `push` 后），想尝试新功能的开发者可以在开发环境使用 `SNAPSHOT` 版。
:::

::: warning
快照版不可用于生产环境！！！    
快照版不可用于生产环境！！！    
快照版不可用于生产环境！！！    
:::

## 使用 `jap-bom`

mica-bom，可以简化依赖和依赖版本统一处理，避免jar冲突。

注意：maven 是按先后顺序进行依赖的，所以 mica-bom 顺序按 mica、spring boot、spring cloud依次添加。

### Maven

```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>com.fujieid</groupId>
            <artifactId>jap-bom</artifactId>
            <version>1.0.4</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>
```

### Gradle

Spring boot 环境中可以开启 `apply plugin: "io.spring.dependency-management"` 插件。

```text
dependencyManagement {
    imports {
        mavenBom "com.fujieid:jap-bom:1.0.4"
    }
}
```

## 使用 `snapshots`

注意：`snapshots` 版本会及时响应，修复最新的 `bug` 或者必要的需求。

### Maven

```xml
<repositories>
    <repository>
        <id>sonatype-nexus-snapshots</id>
        <name>Sonatype Nexus Snapshots</name>
        <url>https://oss.sonatype.org/content/repositories/snapshots/</url>
        <snapshots>
            <enabled>true</enabled>
        </snapshots>
        <releases>
            <enabled>false</enabled>
        </releases>
    </repository>
</repositories>
```

### Gradle

```text
repositories {
    mavenLocal()
    maven { url "https://maven.aliyun.com/repository/public" }
    maven { url "https://maven.aliyun.com/repository/spring" }
    maven { url "https://maven.aliyun.com/repository/spring-plugin" }
    maven { url "https://repo.spring.io/libs-release" }
    maven { url "https://repo.spring.io/milestone" }
    // 添加 snapshots 库地址
    maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    mavenCentral()
}
```
